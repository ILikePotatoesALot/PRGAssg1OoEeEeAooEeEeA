//5 Austin
bool checkflighnum(Dictionary<String, Flight> flighdict,string FlightNumber)
{
    if (flighdict.ContainsKey(FlightNumber)) { return true; }
    else { Console.WriteLine("Flight Number Not Found. ");  return false; }
}

bool checkBoardinGate(Dictionary<String,BoardingGate> boardinggatedictionary, string BoardingGate)
{
    if (boardinggateDictionary.ContainsKey(BoardingGate)) { return true; }
    else { Console.WriteLine("Boarding Gate Not Found. "); return false; }
}

void OneFlightInfo(Dictionary<String, Flight> flighdict, Dictionary<string, Airline> airlinesDictionary,string FlightNumber)
{
    foreach (KeyValuePair<String, Flight> kv in flighdict)
    {
        if (kv.Key.Equals(FlightNumber))
        {
            string AirlineName = "";
            string flightcode = kv.Value.FlightNumber.Substring(0, 2);
            foreach (KeyValuePair<String, Airline> ad in airlinesDictionary)
            {
                if (ad.Value.Code == flightcode) { AirlineName = ad.Key; break; }
            }
            Console.WriteLine($"Flight Number: {kv.Value.FlightNumber,-10}");
            Console.WriteLine($"Airline Name: {AirlineName,-10} ");
            Console.WriteLine($"Origin:  {kv.Value.Origin,-10} ");
            Console.WriteLine($"Destination: {kv.Value.Destination,-10} ");
            Console.WriteLine($"Expected Departure/Arrival Time: {kv.Value.ExpectedTime,-10} ");
            if (String.IsNullOrWhiteSpace(kv.Value.Status) == false)
            { Console.WriteLine($"Status: {kv.Value.Status}"); }
            else { Console.WriteLine($"Status: Normal"); }
            break;
        }
    }
}



void OneBoardinGateInfo(Dictionary<String,BoardingGate> boardingGateDict, string BoardingGate)
{
    foreach (KeyValuePair<String,BoardingGate> kv in  boardingGateDict)
    {
        if (kv.Key.Equals(BoardingGate))
        {
            Console.WriteLine($"Boarding Gate Name: {kv.Key}");
            Console.WriteLine($"Supports DDJB: {kv.Value.SupportsDDJB}");
            Console.WriteLine($"Supports CFFT: {kv.Value.SupportsCFFT}");
            Console.WriteLine($"Supports LWTT: {kv.Value.SupportsLWTT}");
            break;
        }
    }
}


string BGInput()
{
    string BoardinGate = "";
    while (true)
    {
        Console.WriteLine("Enter Boarding Gate Name: ");
        BoardinGate = Console.ReadLine();                              //Validation
        if (checkBoardinGate(boardinggateDictionary, BoardinGate) == true) { break; }
        else { continue; }
    }
    return BoardinGate;
}

string AssignFligh2BoardG(Dictionary<String, Flight> flighdict, Dictionary<string, BoardingGate> BoardinGateDictionary, string Flighnum)
{
    string BoardinGate = "";
    bool loopt = true;
    while (loopt == true)
    {
        BoardinGate = BGInput();
        OneBoardinGateInfo(boardinggateDictionary, BoardinGate);
        foreach (KeyValuePair<String, BoardingGate> kvp in boardinggateDictionary)
        {
            if (kvp.Key == BoardinGate && kvp.Value.Flightt != null)
            {
                Console.WriteLine("Boarding Gate is already assigned.");
                break;
            }
            else if (kvp.Key == BoardinGate && kvp.Value.Flightt == null)
            {
                boardinggateDictionary[kvp.Key].Flightt = flighdict[Flighnum];
                loopt = false;
                break;
            }
        }
    }
    return BoardinGate;

}
void AssignFlighStatus(Dictionary<String, Flight> flighdict, string Flighnum,Dictionary<String, BoardingGate> boardinggatedictionary,string BoardinGate)
{
    string statopt = "";
    while (true)
    {
        Console.WriteLine("Would you like to update the status of the flight? (Y/N)");
        statopt = Console.ReadLine();
        if (statopt != "Y" && statopt != "N") { Console.WriteLine("Invalid Response. Try Again."); }
        else { break; }
    }

    string status = "";
    if (statopt == "Y")
    {
        while (true)
        {
            Console.WriteLine("1.Delayed");
            Console.WriteLine("2.Boarding");
            Console.WriteLine("3.On Time");
            Console.WriteLine("Please select the new status of the flight: ");
            status = Console.ReadLine();
            if (status != "1" && status != "2" && status != "3") { Console.WriteLine("Invalid Response. Try Again."); }
            else { break; }
        }

        if (status == "1")
        {
            flighdict[Flighnum].Status = "Delayed";        
        }
        else if (status == "2")
        {
            flighdict[Flighnum].Status = "Boarding";
        }
        else { flighdict[Flighnum].Status = "On Time"; }
        boardinggateDictionary[BoardinGate].Flightt = flighdict[Flighnum];
    }
    Console.WriteLine($"Flight {Flighnum} has been assigned to Gate {BoardinGate}");
}


string Flighnum = "";
while (true)
{
    Console.WriteLine("Enter Flight Number: ");
    Flighnum = Console.ReadLine();
    if (checkflighnum(flighdict, Flighnum) == true) { break; }
    else { continue; }
}
OneFlightInfo(flighdict, airlinesDictionary, Flighnum);
string boardinNum = AssignFligh2BoardG(flighdict, boardinggateDictionary, Flighnum);
AssignFlighStatus(flighdict, Flighnum, boardinggateDictionary,boardinNum);
